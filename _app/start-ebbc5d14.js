var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(e,s,r)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,o=(t,o)=>{for(var a in o||(o={}))e.call(o,a)&&n(t,a,o[a]);if(s)for(var a of s(o))r.call(o,a)&&n(t,a,o[a]);return t};import{S as a,i as c,s as i,e as l,t as u,c as f,a as p,b as h,d as $,f as d,g as m,h as g,j as y,k as v,l as w,n as b,m as x,o as E,p as _,q as k,r as q,u as S,v as R,w as A,x as C,y as O,z as N,A as P,B as T,C as L,D as j,E as D,F as I,G as U,H as V,I as M,J as B,K as W,L as G,M as K,N as z}from"./chunks/vendor-53512c35.js";import{S as H,f as F,B as J,C as Y,A as X}from"./chunks/Container-3295902d.js";function Q(t){let e,s,r=t[1].stack+"";return{c(){e=l("pre"),s=u(r)},l(t){e=f(t,"PRE",{});var n=p(e);s=h(n,r),n.forEach($)},m(t,r){d(t,e,r),m(e,s)},p(t,e){2&e&&r!==(r=t[1].stack+"")&&g(s,r)},d(t){t&&$(e)}}}function Z(t){let e,s,r,n,o,a,c,i=t[1].message+"",x=t[1].stack&&Q(t);return{c(){e=l("h1"),s=u(t[0]),r=y(),n=l("p"),o=u(i),a=y(),x&&x.c(),c=v()},l(l){e=f(l,"H1",{});var u=p(e);s=h(u,t[0]),u.forEach($),r=w(l),n=f(l,"P",{});var d=p(n);o=h(d,i),d.forEach($),a=w(l),x&&x.l(l),c=v()},m(t,i){d(t,e,i),m(e,s),d(t,r,i),d(t,n,i),m(n,o),d(t,a,i),x&&x.m(t,i),d(t,c,i)},p(t,[e]){1&e&&g(s,t[0]),2&e&&i!==(i=t[1].message+"")&&g(o,i),t[1].stack?x?x.p(t,e):(x=Q(t),x.c(),x.m(c.parentNode,c)):x&&(x.d(1),x=null)},i:b,o:b,d(t){t&&$(e),t&&$(r),t&&$(n),t&&$(a),x&&x.d(t),t&&$(c)}}}function tt(t,e,s){let{status:r}=e,{error:n}=e;return t.$$set=t=>{"status"in t&&s(0,r=t.status),"error"in t&&s(1,n=t.error)},[r,n]}class et extends a{constructor(t){super(),c(this,t,tt,Z,i,{status:0,error:1})}}function st(t){let e,s,r;const n=[t[4]||{}];var o=t[2][1];function a(t){let e={};for(let s=0;s<n.length;s+=1)e=x(e,n[s]);return{props:e}}return o&&(e=new o(a())),{c(){e&&_(e.$$.fragment),s=v()},l(t){e&&k(e.$$.fragment,t),s=v()},m(t,n){e&&q(e,t,n),d(t,s,n),r=!0},p(t,r){const c=16&r?S(n,[R(t[4]||{})]):{};if(o!==(o=t[2][1])){if(e){L();const t=e;C(t.$$.fragment,1,0,(()=>{O(t,1)})),j()}o?(e=new o(a()),_(e.$$.fragment),A(e.$$.fragment,1),q(e,s.parentNode,s)):e=null}else o&&e.$set(c)},i(t){r||(e&&A(e.$$.fragment,t),r=!0)},o(t){e&&C(e.$$.fragment,t),r=!1},d(t){t&&$(s),e&&O(e,t)}}}function rt(t){let e,s;return e=new et({props:{status:t[0],error:t[1]}}),{c(){_(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){q(e,t,r),s=!0},p(t,s){const r={};1&s&&(r.status=t[0]),2&s&&(r.error=t[1]),e.$set(r)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){O(e,t)}}}function nt(t){let e,s,r,n;const o=[rt,st],a=[];function c(t,e){return t[1]?0:1}return e=c(t),s=a[e]=o[e](t),{c(){s.c(),r=v()},l(t){s.l(t),r=v()},m(t,s){a[e].m(t,s),d(t,r,s),n=!0},p(t,n){let i=e;e=c(t),e===i?a[e].p(t,n):(L(),C(a[i],1,1,(()=>{a[i]=null})),j(),s=a[e],s?s.p(t,n):(s=a[e]=o[e](t),s.c()),A(s,1),s.m(r.parentNode,r))},i(t){n||(A(s),n=!0)},o(t){C(s),n=!1},d(t){a[e].d(t),t&&$(r)}}}function ot(t){let e,s=t[6]&&at(t);return{c(){e=l("div"),s&&s.c(),this.h()},l(t){e=f(t,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var r=p(e);s&&s.l(r),r.forEach($),this.h()},h(){E(e,"id","svelte-announcer"),E(e,"aria-live","assertive"),E(e,"aria-atomic","true"),E(e,"class","svelte-1j55zn5")},m(t,r){d(t,e,r),s&&s.m(e,null)},p(t,r){t[6]?s?s.p(t,r):(s=at(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&$(e),s&&s.d()}}}function at(t){let e,s;return{c(){e=u("Navigated to "),s=u(t[7])},l(r){e=h(r,"Navigated to "),s=h(r,t[7])},m(t,r){d(t,e,r),d(t,s,r)},p(t,e){128&e&&g(s,t[7])},d(t){t&&$(e),t&&$(s)}}}function ct(t){let e,s,r,n;const o=[t[3]||{}];let a={$$slots:{default:[nt]},$$scope:{ctx:t}};for(let i=0;i<o.length;i+=1)a=x(a,o[i]);e=new t[8]({props:a});let c=t[5]&&ot(t);return{c(){_(e.$$.fragment),s=y(),c&&c.c(),r=v()},l(t){k(e.$$.fragment,t),s=w(t),c&&c.l(t),r=v()},m(t,o){q(e,t,o),d(t,s,o),c&&c.m(t,o),d(t,r,o),n=!0},p(t,[s]){const n=8&s?S(o,[R(t[3]||{})]):{};2071&s&&(n.$$scope={dirty:s,ctx:t}),e.$set(n),t[5]?c?c.p(t,s):(c=ot(t),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(t){n||(A(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){O(e,t),t&&$(s),c&&c.d(t),t&&$(r)}}}function it(t,e,s){let{status:r}=e,{error:n}=e,{stores:o}=e,{page:a}=e,{components:c}=e,{props_0:i=null}=e,{props_1:l=null}=e;const u=c[0];N("__svelte__",o),P(o.page.notify);let f=!1,p=!1,h=null;return T((()=>{const t=o.page.subscribe((()=>{f&&(s(6,p=!0),s(7,h=document.title))}));return s(5,f=!0),t})),t.$$set=t=>{"status"in t&&s(0,r=t.status),"error"in t&&s(1,n=t.error),"stores"in t&&s(9,o=t.stores),"page"in t&&s(10,a=t.page),"components"in t&&s(2,c=t.components),"props_0"in t&&s(3,i=t.props_0),"props_1"in t&&s(4,l=t.props_1)},t.$$.update=()=>{1536&t.$$.dirty&&o.page.set(a)},[r,n,c,i,l,f,p,h,u,o,a]}class lt extends a{constructor(t){super(),c(this,t,it,ct,i,{status:0,error:1,stores:9,page:10,components:2,props_0:3,props_1:4})}}let ut;const ft={},pt=function(t,e){if(!e)return t();if(void 0===ut){const t=document.createElement("link").relList;ut=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in ft)return;ft[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const r=document.createElement("link");return r.rel=e?"stylesheet":ut,e||(r.as="script",r.crossOrigin=""),r.href=t,document.head.appendChild(r),e?new Promise(((t,e)=>{r.addEventListener("load",t),r.addEventListener("error",e)})):void 0}))).then((()=>t()))};function ht(t){let e;return{c(){e=u("Toggle Menu")},l(t){e=h(t,"Toggle Menu")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function $t(t){let e,s,r,n,o,a,c,i,u,h,g;return i=new H({props:{$$slots:{default:[ht]},$$scope:{ctx:t}}}),{c(){e=l("button"),s=l("span"),r=y(),n=l("span"),o=y(),a=l("span"),c=y(),_(i.$$.fragment),this.h()},l(t){e=f(t,"BUTTON",{alt:!0,class:!0});var l=p(e);s=f(l,"SPAN",{class:!0}),p(s).forEach($),r=w(l),n=f(l,"SPAN",{class:!0}),p(n).forEach($),o=w(l),a=f(l,"SPAN",{class:!0}),p(a).forEach($),c=w(l),k(i.$$.fragment,l),l.forEach($),this.h()},h(){E(s,"class","svelte-1msqb2f"),E(n,"class","svelte-1msqb2f"),E(a,"class","svelte-1msqb2f"),E(e,"alt","Toggle menu"),E(e,"class","svelte-1msqb2f"),D(e,"open",t[0])},m(l,f){d(l,e,f),m(e,s),m(e,r),m(e,n),m(e,o),m(e,a),m(e,c),q(i,e,null),u=!0,h||(g=I(e,"click",t[1]),h=!0)},p(t,[s]){const r={};8&s&&(r.$$scope={dirty:s,ctx:t}),i.$set(r),1&s&&D(e,"open",t[0])},i(t){u||(A(i.$$.fragment,t),u=!0)},o(t){C(i.$$.fragment,t),u=!1},d(t){t&&$(e),O(i),h=!1,g()}}}function dt(t,e,s){let{open:r=!0}=e;const n=U();return t.$$set=t=>{"open"in t&&s(0,r=t.open)},[r,function(){n("click",!0)}]}class mt extends a{constructor(t){super(),c(this,t,dt,$t,i,{open:0})}}function gt(t){let e,s,r,n,o;const a=t[4].default,c=V(a,t,t[3],null);let i=[{href:t[0]},t[2]],u={};for(let l=0;l<i.length;l+=1)u=x(u,i[l]);return{c(){e=l("a"),s=l("span"),c&&c.c(),this.h()},l(t){e=f(t,"A",{href:!0});var r=p(e);s=f(r,"SPAN",{class:!0});var n=p(s);c&&c.l(n),n.forEach($),r.forEach($),this.h()},h(){E(s,"class","svelte-1mv4tqm"),M(e,u),D(e,"svelte-1mv4tqm",!0)},m(a,i){d(a,e,i),m(e,s),c&&c.m(s,null),r=!0,n||(o=I(e,"click",t[1]),n=!0)},p(t,[s]){c&&c.p&&8&s&&B(c,a,t,t[3],s,null,null),M(e,u=S(i,[(!r||1&s)&&{href:t[0]},4&s&&t[2]])),D(e,"svelte-1mv4tqm",!0)},i(t){r||(A(c,t),r=!0)},o(t){C(c,t),r=!1},d(t){t&&$(e),c&&c.d(t),n=!1,o()}}}function yt(t,e,s){let{$$slots:r={},$$scope:n}=e,{href:o}=e;return t.$$set=t=>{s(2,e=x(x({},e),W(t))),"href"in t&&s(0,o=t.href),"$$scope"in t&&s(3,n=t.$$scope)},e=W(e),[o,t=>{if(o.startsWith("#")){t.preventDefault();const e=document.querySelector(o);window.scrollTo({top:e.offsetTop,left:0,behavior:"smooth"})}},e,n,r]}class vt extends a{constructor(t){super(),c(this,t,yt,gt,i,{href:0})}}function wt(t){let e;return{c(){e=u("About")},l(t){e=h(t,"About")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function bt(t){let e;return{c(){e=u("Clients")},l(t){e=h(t,"Clients")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function xt(t){let e;return{c(){e=u("Careers")},l(t){e=h(t,"Careers")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function Et(t){let e;return{c(){e=u("Contact")},l(t){e=h(t,"Contact")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function _t(t){let e,s,r,n,o,a,c,i,u,h,g,v;return s=new vt({props:{href:"#about",$$slots:{default:[kt]},$$scope:{ctx:t}}}),n=new vt({props:{href:"#clients",$$slots:{default:[qt]},$$scope:{ctx:t}}}),a=new vt({props:{href:"#careers",$$slots:{default:[St]},$$scope:{ctx:t}}}),i=new vt({props:{href:"#contact",$$slots:{default:[Rt]},$$scope:{ctx:t}}}),{c(){e=l("div"),_(s.$$.fragment),r=y(),_(n.$$.fragment),o=y(),_(a.$$.fragment),c=y(),_(i.$$.fragment),this.h()},l(t){e=f(t,"DIV",{class:!0});var l=p(e);k(s.$$.fragment,l),r=w(l),k(n.$$.fragment,l),o=w(l),k(a.$$.fragment,l),c=w(l),k(i.$$.fragment,l),l.forEach($),this.h()},h(){E(e,"class","mobile svelte-cdl4iv")},m(l,u){d(l,e,u),q(s,e,null),m(e,r),q(n,e,null),m(e,o),q(a,e,null),m(e,c),q(i,e,null),h=!0,g||(v=I(e,"click",t[1]),g=!0)},p(t,e){const r={};4&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r);const o={};4&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o);const c={};4&e&&(c.$$scope={dirty:e,ctx:t}),a.$set(c);const l={};4&e&&(l.$$scope={dirty:e,ctx:t}),i.$set(l)},i(t){h||(A(s.$$.fragment,t),A(n.$$.fragment,t),A(a.$$.fragment,t),A(i.$$.fragment,t),G((()=>{u||(u=K(e,F,{x:300,duration:600},!0)),u.run(1)})),h=!0)},o(t){C(s.$$.fragment,t),C(n.$$.fragment,t),C(a.$$.fragment,t),C(i.$$.fragment,t),u||(u=K(e,F,{x:300,duration:600},!1)),u.run(0),h=!1},d(t){t&&$(e),O(s),O(n),O(a),O(i),t&&u&&u.end(),g=!1,v()}}}function kt(t){let e;return{c(){e=u("About")},l(t){e=h(t,"About")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function qt(t){let e;return{c(){e=u("Clients")},l(t){e=h(t,"Clients")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function St(t){let e;return{c(){e=u("Careers")},l(t){e=h(t,"Careers")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function Rt(t){let e;return{c(){e=u("Contact")},l(t){e=h(t,"Contact")},m(t,s){d(t,e,s)},d(t){t&&$(e)}}}function At(t){let e,s,r,n,o,a,c,i,u,h,g,v,b;r=new vt({props:{href:"#about",$$slots:{default:[wt]},$$scope:{ctx:t}}}),o=new vt({props:{href:"#clients",$$slots:{default:[bt]},$$scope:{ctx:t}}}),c=new vt({props:{href:"#careers",$$slots:{default:[xt]},$$scope:{ctx:t}}}),u=new vt({props:{href:"#contact",$$slots:{default:[Et]},$$scope:{ctx:t}}});let x=t[0]&&_t(t);return v=new mt({props:{open:t[0]}}),v.$on("click",t[1]),{c(){e=l("nav"),s=l("div"),_(r.$$.fragment),n=y(),_(o.$$.fragment),a=y(),_(c.$$.fragment),i=y(),_(u.$$.fragment),h=y(),x&&x.c(),g=y(),_(v.$$.fragment),this.h()},l(t){e=f(t,"NAV",{class:!0});var l=p(e);s=f(l,"DIV",{class:!0});var d=p(s);k(r.$$.fragment,d),n=w(d),k(o.$$.fragment,d),a=w(d),k(c.$$.fragment,d),i=w(d),k(u.$$.fragment,d),d.forEach($),h=w(l),x&&x.l(l),g=w(l),k(v.$$.fragment,l),l.forEach($),this.h()},h(){E(s,"class","desktop svelte-cdl4iv"),D(s,"open",t[0]),E(e,"class","svelte-cdl4iv")},m(t,l){d(t,e,l),m(e,s),q(r,s,null),m(s,n),q(o,s,null),m(s,a),q(c,s,null),m(s,i),q(u,s,null),m(e,h),x&&x.m(e,null),m(e,g),q(v,e,null),b=!0},p(t,[n]){const a={};4&n&&(a.$$scope={dirty:n,ctx:t}),r.$set(a);const i={};4&n&&(i.$$scope={dirty:n,ctx:t}),o.$set(i);const l={};4&n&&(l.$$scope={dirty:n,ctx:t}),c.$set(l);const f={};4&n&&(f.$$scope={dirty:n,ctx:t}),u.$set(f),1&n&&D(s,"open",t[0]),t[0]?x?(x.p(t,n),1&n&&A(x,1)):(x=_t(t),x.c(),A(x,1),x.m(e,g)):x&&(L(),C(x,1,1,(()=>{x=null})),j());const p={};1&n&&(p.open=t[0]),v.$set(p)},i(t){b||(A(r.$$.fragment,t),A(o.$$.fragment,t),A(c.$$.fragment,t),A(u.$$.fragment,t),A(x),A(v.$$.fragment,t),b=!0)},o(t){C(r.$$.fragment,t),C(o.$$.fragment,t),C(c.$$.fragment,t),C(u.$$.fragment,t),C(x),C(v.$$.fragment,t),b=!1},d(t){t&&$(e),O(r),O(o),O(c),O(u),x&&x.d(),O(v)}}}function Ct(t,e,s){let r=!1;return[r,()=>{s(0,r=!r)}]}class Ot extends a{constructor(t){super(),c(this,t,Ct,At,i,{})}}function Nt(t){let e,s;return{c(){e=l("strong"),s=u("Get in touch!")},l(t){e=f(t,"STRONG",{});var r=p(e);s=h(r,"Get in touch!"),r.forEach($)},m(t,r){d(t,e,r),m(e,s)},d(t){t&&$(e)}}}function Pt(t){let e,s,r,n,o,a,c,i,g,v,b,x,S,R,N;return s=new X({props:{$$slots:{default:[Nt]},$$scope:{ctx:t}}}),{c(){e=l("div"),_(s.$$.fragment),r=y(),n=l("a"),o=u("hello@5monkeys.se"),a=l("br"),c=y(),i=l("span"),g=u("Would you like to know more about our job offers?\n\t\t\t\t\t"),v=l("code"),b=u(">"),x=u(" ssh join.5monkeys.se"),S=l("span"),R=u("█"),this.h()},l(t){e=f(t,"DIV",{class:!0});var l=p(e);k(s.$$.fragment,l),r=w(l),n=f(l,"A",{href:!0,class:!0});var u=p(n);o=h(u,"hello@5monkeys.se"),u.forEach($),a=f(l,"BR",{}),c=w(l),i=f(l,"SPAN",{class:!0});var d=p(i);g=h(d,"Would you like to know more about our job offers?\n\t\t\t\t\t"),v=f(d,"CODE",{class:!0});var m=p(v);b=h(m,">"),x=h(m," ssh join.5monkeys.se"),S=f(m,"SPAN",{class:!0});var y=p(S);R=h(y,"█"),y.forEach($),m.forEach($),d.forEach($),l.forEach($),this.h()},h(){E(n,"href","mailto:hello@5monkeys.se"),E(n,"class","svelte-wyanau"),E(S,"class","cursor svelte-wyanau"),E(v,"class","svelte-wyanau"),E(i,"class","svelte-wyanau"),E(e,"class","svelte-wyanau")},m(t,l){d(t,e,l),q(s,e,null),m(e,r),m(e,n),m(n,o),m(e,a),m(e,c),m(e,i),m(i,g),m(i,v),m(v,b),m(v,x),m(v,S),m(S,R),N=!0},p(t,e){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){N||(A(s.$$.fragment,t),N=!0)},o(t){C(s.$$.fragment,t),N=!1},d(t){t&&$(e),O(s)}}}function Tt(t){let e,s;return e=new Y({props:{fullHeight:!0,center:!0,$$slots:{default:[Pt]},$$scope:{ctx:t}}}),{c(){_(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,r){q(e,t,r),s=!0},p(t,s){const r={};1&s&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){s||(A(e.$$.fragment,t),s=!0)},o(t){C(e.$$.fragment,t),s=!1},d(t){O(e,t)}}}function Lt(t){let e,s,r;return s=new J({props:{background:"black",$$slots:{default:[Tt]},$$scope:{ctx:t}}}),{c(){e=l("footer"),_(s.$$.fragment)},l(t){e=f(t,"FOOTER",{});var r=p(e);k(s.$$.fragment,r),r.forEach($)},m(t,n){d(t,e,n),q(s,e,null),r=!0},p(t,[e]){const r={};1&e&&(r.$$scope={dirty:e,ctx:t}),s.$set(r)},i(t){r||(A(s.$$.fragment,t),r=!0)},o(t){C(s.$$.fragment,t),r=!1},d(t){t&&$(e),O(s)}}}class jt extends a{constructor(t){super(),c(this,t,null,Lt,i,{})}}function Dt(t){let e,s,r,n,o,a;e=new Ot({});const c=t[1].default,i=V(c,t,t[0],null);return o=new jt({}),{c(){_(e.$$.fragment),s=y(),r=l("main"),i&&i.c(),n=y(),_(o.$$.fragment)},l(t){k(e.$$.fragment,t),s=w(t),r=f(t,"MAIN",{});var a=p(r);i&&i.l(a),a.forEach($),n=w(t),k(o.$$.fragment,t)},m(t,c){q(e,t,c),d(t,s,c),d(t,r,c),i&&i.m(r,null),d(t,n,c),q(o,t,c),a=!0},p(t,[e]){i&&i.p&&1&e&&B(i,c,t,t[0],e,null,null)},i(t){a||(A(e.$$.fragment,t),A(i,t),A(o.$$.fragment,t),a=!0)},o(t){C(e.$$.fragment,t),C(i,t),C(o.$$.fragment,t),a=!1},d(t){O(e,t),t&&$(s),t&&$(r),i&&i.d(t),t&&$(n),O(o,t)}}}function It(t,e,s){let{$$slots:r={},$$scope:n}=e;return T((async()=>{(await pt((()=>import("./chunks/smoothscroll-3ce4b178.js").then((function(t){return t.s}))),void 0)).polyfill()})),t.$$set=t=>{"$$scope"in t&&s(0,n=t.$$scope)},[n,r]}var Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends a{constructor(t){super(),c(this,t,It,Dt,i,{})}}});const Vt=[[/^\/$/,[[()=>pt((()=>import("./pages/index.svelte-63160437.js")),["/_app/pages/index.svelte-63160437.js","/_app/assets/pages/index.svelte-cde8a457.css","/_app/chunks/vendor-53512c35.js","/_app/chunks/Container-3295902d.js","/_app/assets/Container-d27884e2.css"])][0]]]];function Mt(t){for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;return t}function Bt(){return{x:pageXOffset,y:pageYOffset}}class Wt{constructor({base:t,routes:e}){this.base=t,this.routes=e}init(t){let e;this.renderer=t,t.router=this,"scrollRestoration"in history&&(history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{history.scrollRestoration="auto"})),addEventListener("load",(()=>{history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(e),e=setTimeout((()=>{const t=o(o({},history.state||{}),{"sveltekit:scroll":Bt()});history.replaceState(t,document.title,window.location.href)}),50)})),addEventListener("click",(t=>{if(t.button||1!==t.which)return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;if(t.defaultPrevented)return;const e=Mt(t.target);if(!e)return;if(!e.href)return;const s="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name,r=String(s?e.href.baseVal:e.href);if(r===location.href)return void(location.hash||t.preventDefault());if(e.hasAttribute("download")||"external"===e.getAttribute("rel"))return;if(s?e.target.baseVal:e.target)return;const n=new URL(r);if(n.pathname===location.pathname&&n.search===location.search)return;const o=this.parse(n);if(o){const s=e.hasAttribute("sveltekit:noscroll");history.pushState({},"",n.href),this._navigate(o,s?Bt():null,[],n.hash),t.preventDefault()}})),addEventListener("popstate",(t=>{if(t.state){const e=new URL(location.href),s=this.parse(e);s?this._navigate(s,t.state["sveltekit:scroll"],[]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),history.replaceState(history.state||{},"",location.href)}parse(t){if(t.origin!==location.origin)return null;if(!t.pathname.startsWith(this.base))return null;const e=t.pathname.slice(this.base.length)||"/",s=this.routes.filter((([t])=>t.test(e)));if(s.length>0){const r=new URLSearchParams(t.search);return{id:`${e}?${r}`,routes:s,path:e,query:r}}}async goto(t,{noscroll:e=!1,replaceState:s=!1}={},r){const n=new URL(t,function(t){let e=t.baseURI;if(!e){const s=t.getElementsByTagName("base");e=s.length?s[0].href:t.URL}return e}(document)),o=this.parse(n);return o?(history[s?"replaceState":"pushState"]({},"",t),this._navigate(o,e?Bt():null,r,n.hash)):(location.href=t,new Promise((()=>{})))}async _navigate(t,e,s,r){this.renderer.notify({path:t.path,query:t.query}),location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.update(t,s),document.body.focus();const n=r&&document.getElementById(r.slice(1));e?scrollTo(e.x,e.y):n?scrollTo(0,n.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function Gt(t){if(t.error){const e="string"==typeof t.error?new Error(t.error):t.error,s=t.status;return e instanceof Error?!s||s<400||s>599?(console.warn('"error" returned from load() without a valid status code — defaulting to 500'),{status:500,error:e}):{status:s,error:e}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof e}"`)}}if(t.redirect){if(!t.status||3!==Math.floor(t.status/100))return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if("string"!=typeof t.redirect)return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}return t}function Kt(t){const e=z(t);let s=!0;return{notify:function(){s=!0,e.update((t=>t))},set:function(t){s=!1,e.set(t)},subscribe:function(t){let r;return e.subscribe((e=>{(void 0===r||s&&e!==r)&&t(r=e)}))}}}class zt{constructor({Root:t,layout:e,target:s,session:r,host:n}){this.Root=t,this.layout=e,this.host=n,this.router=null,this.target=s,this.started=!1,this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.prefetching={id:null,promise:null},this.stores={page:Kt({}),navigating:z(null),session:z(r)},this.$session=null,this.root=null;const o=t=>{const e=Mt(t.target);e&&e.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(e.href))};let a;addEventListener("touchstart",o),addEventListener("mousemove",(t=>{clearTimeout(a),a=setTimeout((()=>{o(t)}),20)}));let c=!1;this.stores.session.subscribe((async t=>{if(this.$session=t,!c)return;this.current.session_changed=!0;const e=this.router.parse(new URL(location.href));this.update(e,[])})),c=!0}async start(t,e,s){const r={stores:this.stores,error:s,status:e,page:t.page};if(s)r.components=[this.layout.default];else{const e=await this._hydrate(t);if(e.redirect)return void(location.href=new URL(e.redirect,location.href).href);Object.assign(r,e.props),this.current=e.state}this.root=new this.Root({target:this.target,props:r,hydrate:!0}),this.started=!0}notify({path:t,query:e}){dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.stores.navigating.set({from:{path:this.current.page.path,query:this.current.page.query},to:{path:t,query:e}})}async update(t,e){const s=this.token={},r=await this._get_navigation_result(t);if(s===this.token){if(r.reload)location.reload();else if(r.redirect){if(!(e.length>10||e.includes(this.current.page.path)))return void this.router.goto(r.redirect,{replaceState:!0},[...e,this.current.page.path]);this.root.$set({status:500,error:new Error("Redirect loop")})}else this.current=r.state,this.root.$set(r.props),this.stores.navigating.set(null),await 0;dispatchEvent(new CustomEvent("sveltekit:navigation-end")),this.prefetching.promise=null,this.prefetching.id=null}}async prefetch(t){const e=this.router.parse(t);if(e)return this.prefetching.promise=this._get_navigation_result(e),this.prefetching.id=e.id,await this.prefetching.promise;throw new Error(`Could not prefetch ${t.href}`)}async _get_navigation_result(t){if(this.prefetching.id===t.id)return this.prefetching.promise;for(let e=0;e<t.routes.length;e+=1){const s=t.routes[e],[r,n,o]=s;if(1===s.length)return{reload:!0};let a=e+1;for(;a<t.routes.length;){const e=t.routes[a];if(e[0].toString()!==r.toString())break;1!==e.length&&e[1].forEach((t=>t())),a+=1}const c=n.map((t=>t())),i={host:this.host,path:t.path,params:o?o(s[0].exec(t.path)):{},query:t.query},l=await this._hydrate({nodes:c,page:i});if(l)return l}return{state:{page:null,query:null,session_changed:!1,contexts:[],nodes:[]},props:{status:404,error:new Error(`Not found: ${t.path}`)}}}async _hydrate({nodes:t,page:n}){const a={status:200,error:null,components:[]},c=(t,n)=>{if(!this.started){const n="string"==typeof t?t:t.url,o=document.querySelector(`script[type="svelte-data"][url="${n}"]`);if(o){const t=JSON.parse(o.textContent),{body:n}=t,a=((t,n)=>{var o={};for(var a in t)e.call(t,a)&&n.indexOf(a)<0&&(o[a]=t[a]);if(null!=t&&s)for(var a of s(t))n.indexOf(a)<0&&r.call(t,a)&&(o[a]=t[a]);return o})(t,["body"]);return Promise.resolve(new Response(n,a))}}return fetch(t,n)},i=n.query.toString(),l={page:n,query:i,session_changed:!1,nodes:[],contexts:[]},u=[this.layout,...t],f=[];let p,h;const $={params:Object.keys(n.params).filter((t=>!this.current.page||this.current.page.params[t]!==n.params[t])),query:i!==this.current.query,session:this.current.session_changed,context:!1};try{for(let t=0;t<u.length;t+=1){const e=this.current.nodes[t],s=this.current.contexts[t],{default:r,preload:d,load:m}=await u[t];if(a.components[t]=r,d)throw new Error("preload has been deprecated in favour of load. Please consult the documentation: https://kit.svelte.dev/docs#load");if(!e||r!==e.component||$.params.some((t=>e.uses.params.has(t)))||$.query&&e.uses.query||$.session&&e.uses.session||$.context&&e.uses.context){const e=n.path+i,s=this.caches.get(r),u=s&&s.get(e);let d,g;if(!u||$.context&&u.node.uses.context){d={component:r,uses:{params:new Set,query:!1,session:!1,context:!1}};const t={};for(const s in n.params)Object.defineProperty(t,s,{get:()=>(d.uses.params.add(s),n.params[s]),enumerable:!0});const e=this.$session;if(m&&(g=await m.call(null,{page:{host:n.host,path:n.path,params:t,get query(){return d.uses.query=!0,n.query}},get session(){return d.uses.session=!0,e},get context(){return d.uses.context=!0,o({},p)},fetch:c}),!g))return}else({node:d,loaded:g}=u);if(g){if(g=Gt(g),g.error)return a.error=g.error,a.status=g.status||500,l.nodes=[],{redirect:h,props:a,state:l};if(g.redirect){h=g.redirect;break}if(g.context&&($.context=!0,p=o(o({},p),g.context)),g.maxage){this.caches.has(r)||this.caches.set(r,new Map);const t=this.caches.get(r),s={node:d,loaded:g};t.set(e,s);let n=!1;const o=setTimeout((()=>{a()}),1e3*g.maxage),a=()=>{t.get(e)===s&&t.delete(e),c(),clearTimeout(o)},c=this.stores.session.subscribe((()=>{n&&a()}));n=!0}f[t]=g.props}l.nodes[t]=d,l.contexts[t]=p}else l.nodes[t]=e,l.contexts[t]=p=s}(await Promise.all(f)).forEach(((t,e)=>{t&&(a[`props_${e}`]=t)})),this.current.page&&n.path===this.current.page.path&&!$.query||(a.page=n)}catch(d){a.error=d,a.status=500,l.nodes=[]}return{redirect:h,props:a,state:l}}}async function Ht({paths:t,target:e,session:s,error:r,status:n,nodes:o,page:a}){const c=new Wt({base:t.base,routes:Vt}),i=new zt({Root:lt,layout:Ut,target:e,session:s,host:a.host});await i.start({nodes:o,page:a},n,r),c.init(i),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Ht as start};
